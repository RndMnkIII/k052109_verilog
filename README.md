# k052109_verilog

!["052109"](https://github.com/RndMnkIII/k052109_verilog/blob/main/img/konami_052109.jpg)

This is a preliminar simulation written in Verilog for the Konami k052109 Tile Layer Generator
used in many Konami arcade game machines at the end of 80's and beginning of 90's. This is used together
with his twin k051962 IC and it is responsible for generate the tilemaps of the game. This code is based 
on the schematics released by @Furrtek which was able to trace the internal channeled gate array structure
of this IC and identify the functions that were used.

https://github.com/furrtek/VGChips/tree/master/Konami

Test Bench Usage:
```
iverilog -o k052109_tb.vvp k052109_tb.v k052109.v addr_sel.v  vram.v fujitsu_AV_UnitCellLibrary_DLY.v
vvp k052109_tb.vvp -lxt2
gtkwave k052109_tb.lxt&
```

## Logic Analyzer captures

See inside `LA_captures` folder for the captures of several signals of interest for testing the k052109 simulator.
These were captured using the Digilent Digital Discovery logic analyzer with the WaveForms software at 200MHz sampling
rate. Open the `*.dwf3work` project files in WaveForms using the Digital Discovery in demo mode or using the original hardware connected to the computer if you own it.

In the image below you can see a capture session in Waveforms:

!["VDE capture in WaveForms"](https://github.com/RndMnkIII/k052109_verilog/blob/main/LA_captures/M12_PE_PQ_VDE_SYSRES.png)

The idea is to use these captures as a reference to compare them with the signals generated by the k052109 simulation and to correct possible errors mainly in the generation of internal clock and synchronization signals that are vital for the rest of the device to function correctly since they are the most complex to generate and most likely to contain errors in the code/schematics.
